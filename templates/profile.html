<!--—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è-->
{% extends 'base.html' %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='style/forms.css') }}">
{% endblock %}


{% block title %}
–ü—Ä–æ—Ñ–∏–ª—å
{% endblock %}


{% block body %}
{% if session.get('user_id') %}

    <form action="{{ url_for('user.profile') }}" method="POST">
        <h1>–û—Å–Ω–æ–≤–Ω–æ–µ</h1>
        <hr>
        <br>
        <label for="purpose" class="label-group">–¶–µ–ª—å –æ—Ç–¥—ã—Ö–∞:</label><br>
        <select name="purpose" id="purpose-select" required>
            <option value="" {% if not user_preferences or not user_preferences.goal %}selected{% endif %}>-- –¶–µ–ª—å --</option>
            <option value="–ª–µ—á–µ–Ω–∏–µ" {% if user_preferences and user_preferences.goal == '–ª–µ—á–µ–Ω–∏–µ' %}selected{% endif %}>–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π</option>
            <option value="–ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞" {% if user_preferences and user_preferences.goal == '–ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞' %}selected{% endif %}>–ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞</option>
            <option value="–æ—Ç–¥—ã—Ö" {% if user_preferences and user_preferences.goal == '–æ—Ç–¥—ã—Ö' %}selected{% endif %}>–æ–±—â–∏–π –æ—Ç–¥—ã—Ö</option>
        </select>

        <br>
        <label for="type" class="label-group">–¢–∏–ø —Å–∞–Ω–∞—Ç–æ—Ä–∏—è</label><br>
        <select name="type" id="type-select" required>
            <option value="">-- –¢–∏–ø --</option>
            <option value="–ø—Ä–æ—Ñ–∏–ª—å–Ω—ã–π" {% if user_preferences.sanatorium_type == '–ø—Ä–æ—Ñ–∏–ª—å–Ω—ã–π' %}selected{% endif %}>–ø—Ä–æ—Ñ–∏–ª—å–Ω—ã–π</option>
            <option value="–º–Ω–æ–≥–æ–ø—Ä–æ—Ñ–∏–ª—å–Ω—ã–π" {% if user_preferences.sanatorium_type == '–º–Ω–æ–≥–æ–ø—Ä–æ—Ñ–∏–ª—å–Ω—ã–π' %}selected{% endif %}>–º–Ω–æ–≥–æ–ø—Ä–æ—Ñ–∏–ª—å–Ω—ã–π</option>
        </select>

        <br>
        <br>
        <label for="sum" class="label-group">–ë—é–¥–∂–µ—Ç</label><br>
        <input type="text" name="sum" value="{{ user_preferences.budget or '' }}" required style="width: 200px"> <span style="font-size: 20px">—Ä—É–±.</span>
        <br><br>

        <h1>–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</h1>
        <hr>
        <br>

        <!-- –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ -->
        <label for="country"  class="label-group">–°—Ç—Ä–∞–Ω–∞:</label><br>
        <select name="country" id="country" required data-selected="{{ user_preferences.preferred_country }}"></select><br><br>
    
        <label for="region"  class="label-group">–†–µ–≥–∏–æ–Ω:</label><br>
        <select name="region" id="region" required data-selected="{{ user_preferences.preferred_region }}"></select><br><br>
    
        <label for="resort"  class="label-group">–ö—É—Ä–æ—Ä—Ç/–≥–æ—Ä–æ–¥:</label><br>
        <select name="resort" id="resort" required data-selected="{{ user_preferences.preferred_resort }}"></select><br><br>




        <h1>–£—Å–ª–æ–≤–∏—è</h1>
        <hr>
        <p>
            <span>–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º—ã–µ —É—Å–ª—É–≥–∏</span><br>
            <p style="padding-left: 30px; margin-top: -10px">
                <label><input type="checkbox" name="services[]" value="–±–∞—Å—Å–µ–π–Ω" {% if '–±–∞—Å—Å–µ–π–Ω' in user_preferences.services %}checked{% endif %}> –±–∞—Å—Å–µ–π–Ω</label><br>
                <label><input type="checkbox" name="services[]" value="—Å–ø–∞" {% if '—Å–ø–∞' in user_preferences.services %}checked{% endif %}> —Å–ø–∞-–ø—Ä–æ—Ü–µ–¥—É—Ä—ã</label><br>
                <label><input type="checkbox" name="services[]" value="–º–µ–¥–∏—Ü–∏–Ω–∞" {% if '–º–µ–¥–∏—Ü–∏–Ω–∞' in user_preferences.services %}checked{% endif %}> –ª–µ—á–µ–±–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã</label><br>
                <label><input type="checkbox" name="services[]" value="–ø–∏—Ç–∞–Ω–∏–µ" {% if '–ø–∏—Ç–∞–Ω–∏–µ' in user_preferences.services %}checked{% endif %}> –ø–∏—Ç–∞–Ω–∏–µ</label><br>
            </p>
        </p>

        <p>
            <span>–í–∞–∂–Ω–æ—Å—Ç—å —Ñ–∞–∫—Ç–æ—Ä–æ–≤</span><br>
            <p style="padding-left: 30px; margin-top: -10px">
                <label>üîπ –¶–µ–Ω–∞:
                    <input type="range" name="—Ñ–∞–∫—Ç–æ—Ä_—Å—Ç–æ–∏–º–æ—Å—Ç–∏" min="1" max="9" value="{{ factors.price }}">
                </label><br>
                <label>üîπ –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:
                    <input type="range" name="—Ñ–∞–∫—Ç–æ—Ä_–º–µ—Å—Ç–∞" min="1" max="9" value="{{ factors.location }}">
                </label><br>
                <label>üîπ –õ–µ—á–µ–±–Ω–∞—è –±–∞–∑–∞:
                    <input type="range" name="—Ñ–∞–∫—Ç–æ—Ä_–±–∞–∑—ã" min="1" max="9" value="{{ factors.treatment }}">
                </label><br>
                <label>üîπ –£—Å–ª–æ–≤–∏—è –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è:
                    <input type="range" name="—Ñ–∞–∫—Ç–æ—Ä_—É—Å–ª–æ–≤–∏–π" min="1" max="9" value="{{ factors.living }}">
                </label><br>
                <label>üîπ –ù–∞–ª–∏—á–∏–µ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π:
                    <input type="range" name="—Ñ–∞–∫—Ç–æ—Ä_—Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π" min="1" max="9" value="{{ factors.entertainment }}">
                </label><br>
            </p>
        </p>

        <p>
            <label>üî∑ –ù–µ–æ–±—Ö–æ–¥–∏–º–∞ –±–ª–∏–∑–æ—Å—Ç—å –∫ –¥–æ—Å—Ç–æ–ø–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º:
                <input type="checkbox" name="place_to_attractions" {% if user_preferences.place_to_attractions %}checked{% endif %}>
            </label><br>
        </p>

        <p>
        <label>üî∑ –†–µ–π—Ç–∏–Ω–≥ —Å–∞–Ω–∞—Ç–æ—Ä–∏—è:
            <input type="range" name="rating" min="1" max="5" value="{{ user_preferences.rating }}" id="ratingRange" oninput="updateRating(this.value)">
            (<span id="ratingValue">{{ user_preferences.rating }}+</span>)
        </label><br>

        <script>
            // —Å–∫—Ä–∏–ø—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–π—Ç–∏–Ω–≥–∞ –≤ –≤–∏–¥–µ(x+)
            function updateRating(value) {
                document.getElementById("ratingValue").textContent = value + "+";
            }
        </script>

        </p>

        <h1>–õ–µ—á–µ–Ω–∏–µ</h1>
        <hr>
        <br>
        <br>

        <div>
            <p>
            <span>–õ–µ—á–µ–±–Ω–∞—è –±–∞–∑–∞ (—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ)</span><br></p>
            <p style="padding-left: 30px; margin-top: -10px">

                <label><input type="checkbox" name="treatment_base[]" value="–ö–∞—Ä–¥–∏–æ–ª–æ–≥–∏—è" id="cardiology" {% if '–ö–∞—Ä–¥–∏–æ–ª–æ–≥–∏—è' in user_preferences.treatmentbase %}checked{% endif %}> –∫–∞—Ä–¥–∏–æ–ª–æ–≥–∏—è</label><br>
                <label><input type="checkbox" name="treatment_base[]" value="–ù–µ–≤—Ä–æ–ª–æ–≥–∏—è" id="neurology" {% if '–ù–µ–≤—Ä–æ–ª–æ–≥–∏—è' in user_preferences.treatmentbase %}checked{% endif %}> –Ω–µ–≤—Ä–æ–ª–æ–≥–∏—è</label><br>
                <label><input type="checkbox" name="treatment_base[]" value="–û—Ä—Ç–æ–ø–µ–¥–∏—è" id="orthopedics" {% if '–û—Ä—Ç–æ–ø–µ–¥–∏—è' in user_preferences.treatmentbase %}checked{% endif %}> –æ—Ä—Ç–æ–ø–µ–¥–∏—è</label><br>
                <label><input type="checkbox" name="treatment_base[]" value="–ì–∞—Å—Ç—Ä–æ—ç–Ω—Ç–µ—Ä–æ–ª–æ–≥–∏—è" id="gastroenterology" {% if '–ì–∞—Å—Ç—Ä–æ—ç–Ω—Ç–µ—Ä–æ–ª–æ–≥–∏—è' in user_preferences.treatmentbase %}checked{% endif %}> –≥–∞—Å—Ç—Ä–æ—ç–Ω—Ç–µ—Ä–æ–ª–æ–≥–∏—è</label><br>
                <label><input type="checkbox" name="treatment_base[]" value="–ü—É–ª—å–º–æ–Ω–æ–ª–æ–≥–∏—è" id="respiratory" {% if '–ü—É–ª—å–º–æ–Ω–æ–ª–æ–≥–∏—è' in user_preferences.treatmentbase %}checked{% endif %}> –õ–µ—á–µ–Ω–∏–µ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π –¥—ã—Ö–∞—Ç–µ–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã</label><br>
                
                <label><input type="checkbox" name="treatment_base[]" value="–≠–Ω–¥–æ–∫—Ä–∏–Ω–æ–ª–æ–≥–∏—è" id="endocrinology" {% if '–≠–Ω–¥–æ–∫—Ä–∏–Ω–æ–ª–æ–≥–∏—è' in user_preferences.treatmentbase %}checked{% endif %}> —ç–Ω–¥–æ–∫—Ä–∏–Ω–æ–ª–æ–≥–∏—è</label><br>
                <label><input type="checkbox" name="treatment_base[]" value="–î–µ—Ä–º–∞—Ç–æ–ª–æ–≥–∏—è" id="dermatology" {% if '–¥–î–µ—Ä–º–∞—Ç–æ–ª–æ–≥–∏—è' in user_preferences.treatmentbase %}checked{% endif %}> –¥–µ—Ä–º–∞—Ç–æ–ª–æ–≥–∏—è</label><br>
                <label><input type="checkbox" name="treatment_base[]" value="–£—Ä–æ–ª–æ–≥–∏—è" id="urology" {% if '–£—Ä–æ–ª–æ–≥–∏—è' in user_preferences.treatmentbase %}checked{% endif %}> —É—Ä–æ–ª–æ–≥–∏—è</label><br>
                <label><input type="checkbox" name="treatment_base[]" value="–ì–∏–Ω–µ–∫–æ–ª–æ–≥–∏—è" id="gynecology" {% if '–ì–∏–Ω–µ–∫–æ–ª–æ–≥–∏—è' in user_preferences.treatmentbase %}checked{% endif %}> –≥–∏–Ω–µ–∫–æ–ª–æ–≥–∏—è</label><br>
                <label><input type="checkbox" name="treatment_base[]" value="–û—Ñ—Ç–∞–ª—å–º–æ–ª–æ–≥–∏—è" id="ophthalmology" {% if '–û—Ñ—Ç–∞–ª—å–º–æ–ª–æ–≥–∏—è' in user_preferences.treatmentbase %}checked{% endif %}> –æ—Ñ—Ç–∞–ª—å–º–æ–ª–æ–≥–∏—è</label><br>
                <label><input type="checkbox" name="treatment_base[]" value="–ü–µ–¥–∏–∞—Ç—Ä–∏—è" id="pediatrics" {% if '–ü–µ–¥–∏–∞—Ç—Ä–∏—è' in user_preferences.treatmentbase %}checked{% endif %}> –ø–µ–¥–∏–∞—Ç—Ä–∏—è</label><br>
                <label><input type="checkbox" name="treatment_base[]" value="–ü—Å–∏—Ö–æ—Ç–µ—Ä–∞–ø–∏—è" id="psychotherapy" {% if '–ü—Å–∏—Ö–æ—Ç–µ—Ä–∞–ø–∏—è' in user_preferences.treatmentbase %}checked{% endif %}> –ø—Å–∏—Ö–æ—Ç–µ—Ä–∞–ø–∏—è</label><br>
                <label><input type="checkbox" name="treatment_base[]" value="–†–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏—è –ø–æ—Å–ª–µ COVID-19" id="covid-rehab" {% if '–†–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏—è –ø–æ—Å–ª–µ COVID-19' in user_preferences.treatmentbase %}checked{% endif %}> —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏—è –ø–æ—Å–ª–µ COVID-19</label><br>
                            
            </p>
        </div>
        <br>
        <div style="text-align: center;  padding: 20px;">
                <button type="submit" name="do_change" class="forms-but">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
        </div>
    </form>

<br>
<br>
    <a href="{{ url_for('user.logout') }}" style="font-size: 21px; margin-left: 150px;">–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</a>
{% endif %}
<script src="{{ url_for('static', filename='main.js') }}"></script>
{% endblock %}